-- ROBLUE_LIB: UI Library with themed window, sidebar, tabs, and elements.
local ROBLUE_LIB = {}

local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

function ROBLUE_LIB:CreateWindow(config)
    config = config or {}
    local Title = config.Name or "ROBLUE CLIENT"

    local gui = Instance.new("ScreenGui", game.CoreGui)
    gui.Name = "ROBLUE_LIB"

    local win = Instance.new("Frame", gui)
    win.Size = UDim2.new(0, 610, 0, 340)
    win.Position = UDim2.new(0.5, -305, 0.5, -170)
    win.BackgroundColor3 = Color3.fromRGB(20,20,20)
    Instance.new("UICorner", win).CornerRadius = UDim.new(0,10)

    local top = Instance.new("Frame", win)
    top.Size = UDim2.new(1,0,0,45)
    top.BackgroundColor3 = Color3.fromRGB(15,15,15)
    Instance.new("UICorner", top).CornerRadius = UDim.new(0,10)

    local label = Instance.new("TextLabel", top)
    label.Size = UDim2.new(1,-20,1,0)
    label.Position = UDim2.new(0,20,0,0)
    label.Text = Title
    label.Font = Enum.Font.GothamBlack
    label.TextSize = 20
    label.TextColor3 = Color3.fromRGB(255,255,255)
    label.BackgroundTransparency = 1
    label.TextXAlignment = Enum.TextXAlignment.Left

    local sidebar = Instance.new("Frame", win)
    sidebar.Size = UDim2.new(0,150,1,-45)
    sidebar.Position = UDim2.new(0,0,0,45)
    sidebar.BackgroundColor3 = Color3.fromRGB(15,15,15)
    Instance.new("UICorner", sidebar).CornerRadius = UDim.new(0,10)

    local content_area = Instance.new("Frame", win)
    content_area.Size = UDim2.new(1,-150,1,-45)
    content_area.Position = UDim2.new(0,150,0,45)
    content_area.BackgroundTransparency = 1

    local Tabs = {}
    local CurrentTab

    function ROBLUE_LIB:CreateTab(name)
        local y = 5 + (#sidebar:GetChildren() * 45)
        local btn = Instance.new("TextButton", sidebar)
        btn.Size = UDim2.new(1,-10,0,40)
        btn.Position = UDim2.new(0,5,0,y)
        btn.BackgroundColor3 = Color3.fromRGB(20,20,20)
        btn.BorderSizePixel = 0
        btn.Font = Enum.Font.GothamBold
        btn.Text = name
        btn.TextColor3 = Color3.fromRGB(200,200,200)

        local tab_frame = Instance.new("ScrollingFrame", content_area)
        tab_frame.Size = UDim2.new(1,-20,1,-20)
        tab_frame.Position = UDim2.new(0,10,0,10)
        tab_frame.BackgroundTransparency = 1
        tab_frame.ScrollBarThickness = 4
        tab_frame.Visible = false

        Instance.new("UIListLayout", tab_frame).Padding = UDim.new(0,8)

        Tabs[name] = {button = btn, frame = tab_frame}

        btn.MouseButton1Click:Connect(function()
            if CurrentTab then
                Tabs[CurrentTab].button.BackgroundColor3 = Color3.fromRGB(20,20,20)
                Tabs[CurrentTab].frame.Visible = false
            end
            CurrentTab = name
            btn.BackgroundColor3 = Color3.fromRGB(35,35,35)
            tab_frame.Visible = true
        end)

        if not CurrentTab then
            CurrentTab = name
            btn.BackgroundColor3 = Color3.fromRGB(35,35,35)
            tab_frame.Visible = true
        end

        local Elements = {}

        function Elements:AddButton(text, callback)
            local b = Instance.new("TextButton", tab_frame)
            b.Size = UDim2.new(1,-10,0,35)
            b.Text = text
            b.Font = Enum.Font.GothamSemibold
            b.TextColor3 = Color3.fromRGB(230,230,230)
            b.BackgroundColor3 = Color3.fromRGB(30,30,30)
            Instance.new("UICorner", b).CornerRadius = UDim.new(0,6)
            b.MouseButton1Click:Connect(function()
                pcall(callback)
            end)
        end

        function Elements:AddParagraph(t, c)
            local box = Instance.new("Frame", tab_frame)
            box.Size = UDim2.new(1,-10,0,70)
            box.BackgroundColor3 = Color3.fromRGB(25,25,25)
            Instance.new("UICorner", box).CornerRadius = UDim.new(0,6)

            local tl = Instance.new("TextLabel", box)
            tl.Text = t
            tl.Font = Enum.Font.GothamBold
            tl.TextColor3 = Color3.fromRGB(255,255,255)
            tl.TextSize = 16
            tl.Position = UDim2.new(0,10,0,5)
            tl.Size = UDim2.new(1,-20,0,20)
            tl.BackgroundTransparency = 1

            local cl = Instance.new("TextLabel", box)
            cl.Text = c
            cl.Font = Enum.Font.Gotham
            cl.TextColor3 = Color3.fromRGB(200,200,200)
            cl.TextSize = 13
            cl.Position = UDim2.new(0,10,0,28)
            cl.Size = UDim2.new(1,-20,0,40)
            cl.BackgroundTransparency = 1
            cl.TextWrapped = true
        end

        return Elements
    end

    return ROBLUE_LIB
end

return ROBLUE_LIB
